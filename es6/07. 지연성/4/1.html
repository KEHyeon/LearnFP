<script src="../../lib/fx.js"></script>

<script>
  log([...[1, 2], 3, 4, ...[5, 6], ...[7, 8, 9]]);

  const isIterable = (a) => a && a[Symbol.iterator];
  L.flatten = function* (iter) {
    for (const a of iter) {
      if (isIterable(a)) for (const b of a) yield b;
      else yield a;
    }
  };
  var it = L.flatten([[1, 2], 3, 4, [5, 6], [7, 8, 9]]);

  const flatten = pipe(L.flatten, takeAll);
  log(flatten([[1, 2], 3, 4, [5, 6], [7, 8, 9]]));
</script>

<script>
  console.clear();
  log(
    [
      [1, 2],
      [3, 4],
      [5, 6, 7],
    ].flatMap((a) => a)
  );
</script>
